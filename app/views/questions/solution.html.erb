<% title "No.#{@question.id} の解説" %>
<% summary = @question.explanation.tr("\n", " ").truncate(80) %>
<% set_meta_tags description: summary %>

<main class="min-h-screen bg-slate-50 py-12 px-4 sm:px-6">
  <div class="max-w-3xl mx-auto space-y-8">

    <% if current_user %>
      <%= render "shared/result_status", is_correct: @is_correct %>

      <div class="pb-4">
        <%= render "navigation" %>
      </div>
    <% end %>

    <%= render "shared/terminal_display",
        content: @question.content,
        label: "Question.php (Review)" %>

    <%= render "shared/choices_feedback",
        question: @question,
        user_choice_ids: @user_answer_ids %>

    <%= render "shared/reference_info", question: @question %>

    <% if current_user %>
      <%= render "navigation" %>
    <% else %>
      <div class="mt-8 pt-8 border-t border-slate-200">
        <%= link_to root_path, class: "w-full flex items-center justify-center px-4 py-3 border border-transparent text-base font-bold rounded-xl text-white bg-indigo-600 hover:bg-indigo-700 transition-all shadow-md" do %>
          <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"></path>
          </svg>
          ログインして学習をはじめる
        <% end %>
      </div>
    <% end %>

  </div>
</main>
