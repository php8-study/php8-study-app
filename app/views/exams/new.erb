<% title "試験準備中" %>
<% noindex %>

<main class="bg-slate-50 flex flex-col items-center justify-center p-4">

  <div class="text-center max-w-md mx-auto space-y-8">

    <div class="relative flex justify-center" aria-hidden="true">
      <div class="w-16 h-16 border-4 border-indigo-100 rounded-full"></div>
      <div class="absolute top-0 left-1/2 -ml-8 w-16 h-16 border-4 border-t-indigo-600 border-r-transparent border-b-transparent border-l-transparent rounded-full animate-spin"></div>
    </div>

    <section class="space-y-2" role="status" aria-live="polite">
      <h1 class="text-xl font-bold text-slate-800 tracking-tight">試験データを作成しています...</h1>
      <p class="text-slate-500 text-sm">準備が完了すると自動的に試験が開始されます。<br>画面を閉じずにお待ちください。</p>
    </section>

    <div data-controller="auto-start" class="mt-4">
      <%= link_to exams_path,
          data: {
              "auto-start-target": "startLink",
              "turbo-method": :post
          },
          class: "inline-flex items-center text-sm font-bold text-indigo-600 hover:text-indigo-800 transition-colors border-b-2 border-indigo-100 hover:border-indigo-600 pb-0.5" do %>

        <span>もし画面が切り替わらない場合はここをクリック</span>
        <%= inline_svg_tag "icons/chevron-right.svg", class: "w-4 h-4 ml-1", aria_hidden: true %>
      <% end %>
    </div>
  </div>

</main>
