<div class="max-w-3xl mx-auto py-8">
  <h1 class="text-3xl font-bold text-gray-900 mb-2">
    試験内容の確認
  </h1>
  <p class="text-gray-600 mb-6">
    回答状況を確認し、よろしければ「試験を提出」ボタンを押してください。
  </p>

  <div class="bg-white p-6 shadow-xl rounded-xl mb-6">
    <h2 class="text-xl font-semibold text-gray-800 mb-4 border-b pb-2">
      回答状況一覧
    </h2>

    <div class="grid grid-cols-5 md:grid-cols-8 gap-3 py-2">
      <% @exam_questions.each do |exam_question| %>
        <%= link_to(
              exam_exam_question_path(@exam, exam_question),
              class: (
                [
                  "flex items-center justify-center w-10 h-10 rounded-lg shadow-md transition-all text-lg font-bold border-2",
                  exam_question.answered? ?
                    "bg-green-100 border-green-500 text-green-800 hover:bg-green-200" :
                    "bg-yellow-100 border-yellow-500 text-yellow-800 hover:bg-yellow-200"
                ].join(" ")
              )
            ) do %>
          <%= exam_question.position %>
        <% end %>
      <% end %>
    </div>

    <div class="mt-4 text-sm text-gray-600">
      <span class="mr-4">
        <span class="inline-block w-3 h-3 rounded-full bg-green-500 mr-1"></span> 回答済み
      </span>
      <span>
        <span class="inline-block w-3 h-3 rounded-full bg-yellow-500 mr-1"></span> 未回答
      </span>
    </div>
  </div>

  <div class="mt-8">
    <%= link_to "試験を提出する",
          submissions_exam_path(@exam),
          data: {
            turbo_method: :post,
            turbo_confirm: "一度提出すると回答は変更できません。よろしいですか？"
          },
          class: "w-full bg-red-600 text-white px-6 py-3 rounded-lg font-semibold text-xl hover:bg-red-700 transition-colors block text-center shadow-lg" %>
  </div>
</div>
